---
title: JMS(1) -- 介绍
date: 2017-07-12 17:12:08 
tags: JMS
category: JMS
---
JMS 是java消息服务(Java Message Service), JMS客户端之间可以通过JMS服务进行异步的消息传输。消息模式分为两种:Point-to-Point(P2P)点对点和Publish/Subscrible(Pub/Sub)发布订阅
### 1 消息模式
#### 1.1 P2P
+ 概念
- 消息队列(Queue)
- 发送者(Sender)
- 接受者(Receiver)
- 每个消息都被发送到一个特定的消息队列,接收者从消息队列中获取消息。队列保留着消息,知道他们被消费或者超时
+ P2P特点
- 每个消息只有一个消费者(Consumer)(即一旦被消费,消息就不在消息队列中)
- 发送者和接收者之间在时间上没有依赖性,也就是说当发送者发送了消息之后,不管接收者有没有正在运行,它也不会影响消息被发送到队列
- 接收者在成功接收消息之后需向队列应答成功
- 如果你希望发送的消息都应该被成功处理的话,那么你需要P2P模式

#### 1.2 Pub/Sub
+ 概念
- 主题 (Topic)
- 发布者(Publisher)
- 订阅者(Subscriber)
- 客户端将消息发送到topic,多个发布者将消息发送到Topic,系统将这些消息传递给多个订阅者
+ Pub/Sub特点
- 每个消息可以有多个消费者
- 发布者和订阅者有时间上的依赖性,针对某个主题(topic)的订阅者,它必须创建一个订阅者之后,才能消费发布者的消息,而且为了消费消息,订阅者必须保持运行状态
- 为了缓和这样严格的时间相关性,JMS允许订阅者创建一个可持久化的订阅。这样即使订阅者没有被激活(运行),它也能接受到发布者的消息
- 如果你希望发送的消息可以不被做任何处理,或者被一个消费者处理,或者被多个消费者处理的话,那么可以采用Pub/Sub模式

### 2 消息的消费
在JMS 中, 消息的产生和消费是异步。对于消费这来说,JMS的消息者可以通过两种方式来消费消息:
+ 同步
		订阅者或者接收者调用receive方法来接收消息,receive方法能够接收到消息之前(或超时之前)将一直阻塞
+ 异步
		订阅者或接收者可以注册为一个消息监听器。当消息到达之后,系统自动调用监听器的onMessage方法。
		
### 3 JMS的好处
+ 提供消息灵活性
+ 松散耦合
+ 异步性

### 4 JMS的具体实现ActiveMQ
#### 4.1 消息中间件MOM(Message orient middleware)
+ 将数据从一个应用传送到另一个应用程序,或者从软件的一个模块传送到另一个模块;
+ 负责建立网络通信的通道,进行数据的可靠传送
+ 保证数据不重发,不丢失
+ 能够实现跨平台操作,能够为不同操作系统上的软件集成技工数据传送服务
#### 4.2 MQ(Message Queue)消息队列
#### 4.3 ActiveMQ
ActiveMQ是由Apache出品的,一款最流行的,能力强劲的开源消息总线。ActiveMQ是一个完全支持JMS1.1 和J2EE1.4规范的JMS provider实现,它非常快速,支持多种语言的客户端和协议,而且可以非常容易的嵌入到企业的应用环境中,并有许多高级功能

参考文章: 
http://blog.csdn.net/jiuqiyuliang/article/details/46701559
http://blog.csdn.net/jiuqiyuliang/article/details/47160259

